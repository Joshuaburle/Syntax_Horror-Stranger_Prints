#!/usr/bin/env python3

import tkinter as tk
from functools import partial
import tkinter as tk
from functools import partial
try:
    from PIL import Image, ImageTk
    HAS_PIL = True
except ImportError:
    HAS_PIL = False

def on_closing():
    text_var.set("> Vous ne pouvez pas quitter comme ça...")
    root.bell()  # Fait un son pour l'effet

STORY = {
    # ...existing code...
}

root = tk.Tk()
root.title("Terminal")
root.geometry("600x400")
root.configure(bg='black')
root.protocol("WM_DELETE_WINDOW", on_closing)  # Intercepte la croix

# Frame pour l'image en haut à gauche
image_frame = tk.Frame(root, bg='black')
image_frame.pack(anchor='nw', padx=20, pady=20)

# Chargement et affichage de l'image
if HAS_PIL:
    try:
        image = Image.open("images/votre_image.png")
        image = image.resize((100, 100))
        photo = ImageTk.PhotoImage(image)
        image_label = tk.Label(
            image_frame,
            image=photo,
            bg='black'
        )
        image_label.image = photo
        image_label.pack()
    except:
        placeholder = tk.Label(
            image_frame,
            text="[Image placeholder]",
            bg='black',
            fg='#00ff00',
            font=('Courier', 10)
        )
        placeholder.pack()
else:
    print("PIL non installé - fonctionnement sans images")

# Style terminal (texte)
text_var = tk.StringVar()
text_label = tk.Label(
    root, 
    textvariable=text_var, 
    wraplength=540,
    justify="left",
    padx=20,
    pady=20,
    bg='black',
    fg='#00ff00',
    font=('Courier', 12)
)
text_label.pack(fill="both", expand=True)